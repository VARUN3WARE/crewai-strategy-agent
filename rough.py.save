import requests

def generate_image_from_prompt(prompt: str, hf_token: str):
    api_url = "https://api-inference.huggingface.co/models/CompVis/stable-diffusion-v1-4"
    headers = {"Authorization": f"Bearer {import requests

def generate_image_from_prompt(prompt: str, hf_token: str):
    api_url = "https://api-inference.huggingface.co/models/CompVis/stable-diffusion-v1-4"
    headers = {"Authorization": f"Bearer {hf_token}"}
    payload = {"inputs": prompt}

    response = requests.post(api_url, headers=headers, json=payload)
    if response.status_code == 200:
        with open("generated_image.png", "wb") as f:
            f.write(response.content)
        return "Image saved as 'generated_image.png'"
    else:
        return f"Failed: {response.status_code} - {response.text}"
}"}
    payload = {"inputs": prompt}

    response = requests.post(api_url, headers=headers, json=payload)
    if response.status_code == 200:
        with open("generated_image.png", "wb") as f:
            f.write(response.content)
        return "Image saved as 'generated_image.png'"
    else:
        return f"Failed: {response.status_code} - {response.text}"
